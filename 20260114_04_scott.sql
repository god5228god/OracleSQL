SELECT USER
FROM DUAL;
--==>> SCOTT

SELECT *
FROM TBL_INSA;
--==>>
/*
1001	홍길동	771212-1022432	1998-10-11	서울	011-2356-4528	기획부	부장	2610000	200000
1002	이순신	801007-1544236	2000-11-29	경기	010-4758-6532	총무부	사원	1320000	200000
1003	이순애	770922-2312547	1999-02-25	인천	010-4231-1236	개발부	부장	2550000	160000
1004	김정훈	790304-1788896	2000-10-01	전북	019-5236-4221	영업부	대리	1954200	170000
1005	한석봉	811112-1566789	2004-08-13	서울	018-5211-3542	총무부	사원	1420000	160000
1006	이기자	780505-2978541	2002-02-11	인천	010-3214-5357	개발부	과장	2265000	150000
1007	장인철	780506-1625148	1998-03-16	제주	011-2345-2525	개발부	대리	1250000	150000
1008	김영년	821011-2362514	2002-04-30	서울	016-2222-4444	홍보부	사원	950000	145000
1009	나윤균	810810-1552147	2003-10-10	경기	019-1111-2222	인사부	사원	840000	220400
1010	김종서	751010-1122233	1997-08-08	부산	011-3214-5555	영업부	부장	2540000	130000
1011	유관순	801010-2987897	2000-07-07	서울	010-8888-4422	영업부	사원	1020000	140000
1012	정한국	760909-1333333	1999-10-16	강원	018-2222-4242	홍보부	사원	880000	114000
1013	조미숙	790102-2777777	1998-06-07	경기	019-6666-4444	홍보부	대리	1601000	103000
1014	황진이	810707-2574812	2002-02-15	인천	010-3214-5467	개발부	사원	1100000	130000
1015	이현숙	800606-2954687	1999-07-26	경기	016-2548-3365	총무부	사원	1050000	104000
1016	이상헌	781010-1666678	2001-11-29	경기	010-4526-1234	개발부	과장	2350000	150000
1017	엄용수	820507-1452365	2000-08-28	인천	010-3254-2542	개발부	사원	950000	210000
1018	이성길	801028-1849534	2004-08-08	전북	018-1333-3333	개발부	사원	880000	123000
1019	박문수	780710-1985632	1999-12-10	서울	017-4747-4848	인사부	과장	2300000	165000
1020	유영희	800304-2741258	2003-10-10	전남	011-9595-8585	자재부	사원	880000	140000
1021	홍길남	801010-1111111	2001-09-07	경기	011-9999-7575	개발부	사원	875000	120000
1022	이영숙	800501-2312456	2003-02-25	전남	017-5214-5282	기획부	대리	1960000	180000
1023	김인수	731211-1214576	1995-02-23	서울		영업부	부장	2500000	170000
1024	김말자	830225-2633334	1999-08-28	서울	011-5248-7789	기획부	대리	1900000	170000
1025	우재옥	801103-1654442	2000-10-01	서울	010-4563-2587	영업부	사원	1100000	160000
1026	김숙남	810907-2015457	2002-08-28	경기	010-2112-5225	영업부	사원	1050000	150000
1027	김영길	801216-1898752	2000-10-18	서울	019-8523-1478	총무부	과장	2340000	170000
1028	이남신	810101-1010101	2001-09-07	제주	016-1818-4848	인사부	사원	892000	110000
1029	김말숙	800301-2020202	2000-09-08	서울	016-3535-3636	총무부	사원	920000	124000
1030	정정해	790210-2101010	1999-10-17	부산	019-6564-6752	총무부	과장	2304000	124000
1031	지재환	771115-1687988	2001-01-21	서울	019-5552-7511	기획부	부장	2450000	160000
1032	심심해	810206-2222222	2000-05-05	전북	016-8888-7474	자재부	사원	880000	108000
1033	김미나	780505-2999999	1998-06-07	서울	011-2444-4444	영업부	사원	1020000	104000
1034	이정석	820505-1325468	2005-09-26	경기	011-3697-7412	기획부	사원	1100000	160000
1035	정영희	831010-2153252	2002-05-16	인천		개발부	사원	1050000	140000
1036	이재영	701126-2852147	2003-08-10	서울	011-9999-9999	자재부	사원	960400	190000
1037	최석규	770129-1456987	1998-10-15	인천	011-7777-7777	홍보부	과장	2350000	187000
1038	손인수	791009-2321456	1999-11-15	부산	010-6542-7412	영업부	대리	2000000	150000
1039	고순정	800504-2000032	2003-12-28	경기	010-2587-7895	영업부	대리	2010000	160000
1040	박세열	790509-1635214	2000-09-10	경북	016-4444-7777	인사부	대리	2100000	130000
1041	문길수	721217-1951357	2001-12-10	충남	016-4444-5555	자재부	과장	2300000	150000
1042	채정희	810709-2000054	2003-10-17	경기	011-5125-5511	개발부	사원	1020000	200000
1043	양미옥	830504-2471523	2003-09-24	서울	016-8548-6547	영업부	사원	1100000	210000
1044	지수환	820305-1475286	2004-01-21	서울	011-5555-7548	영업부	사원	1060000	220000
1045	홍원신	690906-1985214	2003-03-16	전북	011-7777-7777	영업부	사원	960000	152000
1046	허경운	760105-1458752	1999-05-04	경남	017-3333-3333	총무부	부장	2650000	150000
1047	산마루	780505-1234567	2001-07-15	서울	018-0505-0505	영업부	대리	2100000	112000
1048	이기상	790604-1415141	2001-06-07	전남		개발부	대리	2050000	106000
1049	이미성	830908-2456548	2000-04-07	인천	010-6654-8854	개발부	사원	1300000	130000
1050	이미인	810403-2828287	2003-06-07	경기	011-8585-5252	홍보부	대리	1950000	103000
1051	권영미	790303-2155554	2000-06-04	서울	011-5555-7548	영업부	과장	2260000	104000
1052	권옥경	820406-2000456	2000-10-10	경기	010-3644-5577	기획부	사원	1020000	105000
1053	김싱식	800715-1313131	1999-12-12	전북	011-7585-7474	자재부	사원	960000	108000
1054	정상호	810705-1212141	1999-10-16	강원	016-1919-4242	홍보부	사원	980000	114000
1055	정한나	820506-2425153	2004-06-07	서울	016-2424-4242	영업부	사원	1000000	104000
1056	전용재	800605-1456987	2004-08-13	인천	010-7549-8654	영업부	대리	1950000	200000
1057	이미경	780406-2003214	1998-02-11	경기	016-6542-7546	자재부	부장	2520000	160000
1058	김신제	800709-1321456	2003-08-08	인천	010-2415-5444	기획부	대리	1950000	180000
1059	임수봉	810809-2121244	2001-10-10	서울	011-4151-4154	개발부	사원	890000	102000
1060	김신애	810809-2111111	2001-10-10	서울	011-4151-4444	개발부	사원	900000	102000
*/


--○ 생성한 함수가 제대로 작동하는지의 여부 확인
--   『20260114_03_scott(plsql)』에서 생성한 『FN_GENDER()』 함수

SELECT '751212-1234567' "주민번호"
    , FN_GENDER('751212-1234567') "성별확인"
FROM DUAL;
--==>> 751212-1234567	남자

EXECUTE FN_GENDER('751212-1234567');
--==>> 에러 발생
/*
ORA-06550: line 1, column 7:
PLS-00221: 'FN_GENDER' is not a procedure or is undefined
*/

SELECT NAME, SSN, FN_GENDER(SSN) "함수호출결과"
FROM TBL_INSA;
--==>>
/*
홍길동	771212-1022432	남자
이순신	801007-1544236	남자
이순애	770922-2312547	여자
김정훈	790304-1788896	남자
한석봉	811112-1566789	남자
이기자	780505-2978541	여자
장인철	780506-1625148	남자
김영년	821011-2362514	여자
나윤균	810810-1552147	남자
김종서	751010-1122233	남자
유관순	801010-2987897	여자
정한국	760909-1333333	남자
조미숙	790102-2777777	여자
황진이	810707-2574812	여자
이현숙	800606-2954687	여자
이상헌	781010-1666678	남자
엄용수	820507-1452365	남자
이성길	801028-1849534	남자
박문수	780710-1985632	남자
유영희	800304-2741258	여자
홍길남	801010-1111111	남자
이영숙	800501-2312456	여자
김인수	731211-1214576	남자
김말자	830225-2633334	여자
우재옥	801103-1654442	남자
김숙남	810907-2015457	여자
김영길	801216-1898752	남자
이남신	810101-1010101	남자
김말숙	800301-2020202	여자
정정해	790210-2101010	여자
지재환	771115-1687988	남자
심심해	810206-2222222	여자
김미나	780505-2999999	여자
이정석	820505-1325468	남자
정영희	831010-2153252	여자
이재영	701126-2852147	여자
최석규	770129-1456987	남자
손인수	791009-2321456	여자
고순정	800504-2000032	여자
박세열	790509-1635214	남자
문길수	721217-1951357	남자
채정희	810709-2000054	여자
양미옥	830504-2471523	여자
지수환	820305-1475286	남자
홍원신	690906-1985214	남자
허경운	760105-1458752	남자
산마루	780505-1234567	남자
이기상	790604-1415141	남자
이미성	830908-2456548	여자
이미인	810403-2828287	여자
권영미	790303-2155554	여자
권옥경	820406-2000456	여자
김싱식	800715-1313131	남자
정상호	810705-1212141	남자
정한나	820506-2425153	여자
전용재	800605-1456987	남자
이미경	780406-2003214	여자
김신제	800709-1321456	남자
임수봉	810809-2121244	여자
김신애	810809-2111111	여자
*/

--○ 함수 목록 확인(조회)
SELECT OBJECT_NAME, OBJECT_TYPE
FROM USER_PROCEDURES;
--==>> FN_GENDER	FUNCTION


--○ 생성한 함수가 제대로 작동하는지의 여부 확인
--   『20260114_03_scott(plsql)』에서 생성한 『FN_POW()』 함수
SELECT FN_POW(10, 3) "결과확인"
FROM DUAL;
--==>> 1000

SELECT FN_POW(5, 3) "결과확인"
FROM DUAL;
--==>> 125

SELECT NAME, BASICPAY, FN_POW(BASICPAY,2) "기본급제곱"
FROM TBL_INSA;
--==>>
/*
홍길동	2610000	6812100000000
이순신	1320000	1742400000000
이순애	2550000	6502500000000
김정훈	1954200	3818897640000
한석봉	1420000	2016400000000
이기자	2265000	5130225000000
장인철	1250000	1562500000000
김영년	950000	902500000000
나윤균	840000	705600000000
김종서	2540000	6451600000000
유관순	1020000	1040400000000
정한국	880000	774400000000
조미숙	1601000	2563201000000
황진이	1100000	1210000000000
이현숙	1050000	1102500000000
이상헌	2350000	5522500000000
엄용수	950000	902500000000
이성길	880000	774400000000
박문수	2300000	5290000000000
유영희	880000	774400000000
홍길남	875000	765625000000
이영숙	1960000	3841600000000
김인수	2500000	6250000000000
김말자	1900000	3610000000000
우재옥	1100000	1210000000000
김숙남	1050000	1102500000000
김영길	2340000	5475600000000
이남신	892000	795664000000
김말숙	920000	846400000000
정정해	2304000	5308416000000
지재환	2450000	6002500000000
심심해	880000	774400000000
김미나	1020000	1040400000000
이정석	1100000	1210000000000
정영희	1050000	1102500000000
이재영	960400	922368160000
최석규	2350000	5522500000000
손인수	2000000	4000000000000
고순정	2010000	4040100000000
박세열	2100000	4410000000000
문길수	2300000	5290000000000
채정희	1020000	1040400000000
양미옥	1100000	1210000000000
지수환	1060000	1123600000000
홍원신	960000	921600000000
허경운	2650000	7022500000000
산마루	2100000	4410000000000
이기상	2050000	4202500000000
이미성	1300000	1690000000000
이미인	1950000	3802500000000
권영미	2260000	5107600000000
권옥경	1020000	1040400000000
김싱식	960000	921600000000
정상호	980000	960400000000
정한나	1000000	1000000000000
전용재	1950000	3802500000000
이미경	2520000	6350400000000
김신제	1950000	3802500000000
임수봉	890000	792100000000
김신애	900000	810000000000
*/

SELECT *
FROM TBL_INSA;

--○ 생성한 함수가 제대로 작동하는지의 여부 확인
--   『20260114_03_scott(plsql)』에서 생성한 『FN_INSAPAY()』 함수
SELECT NAME, BASICPAY, SUDANG, FN_INSAPAY(BASICPAY, SUDANG) "연봉"
FROM TBL_INSA;


--○ 생성한 함수가 제대로 작동하는지의 여부 확인
--   『20260114_03_scott(plsql)』에서 생성한 『FN_INSAWORKYEAR()』 함수
SELECT NAME, IBSADATE, FN_INSAWORKYEAR(IBSADATE) "근무년수"
FROM TBL_INSA;


--○ 생성한 함수가 제대로 작동하는지의 여부 확인
--   『20260114_03_scott(plsql)』에서 생성한 『FN_BIRTH()』 함수

SELECT '770922-2315406' "주민번호"
    , FN_BIRTH('770922-2315406') "함수호출결과"
FROM DUAL;
--==>> 770922-2315406	1977-09-22


SELECT NAME, SSN, FN_BIRTH(SSN) "생년월일"
FROM TBL_INSA;
--==>>
/*
홍길동	771212-1022432	1977-12-12
이순신	801007-1544236	1980-10-07
이순애	770922-2312547	1977-09-22
김정훈	790304-1788896	1979-03-04
            :
*/

--○ 생성한 함수가 제대로 작동하는지의 여부 확인
--   『20260114_03_scott(plsql)』에서 생성한 『FN_AGE()』 함수
SELECT '771212-1022432' "주민번호"
        , FN_AGE('771212-1022432') "함수호출결과"
FROM DUAL;
--==>> 771212-1022432	50

SELECT NAME, SSN, FN_AGE(SSN) "현재나이"
FROM TBL_INSA;
--==>>
/*
NAME                 SSN                  현재나이
-------------------- -------------- ----------
홍길동               771212-1022432         50
이순신               801007-1544236         47
이순애               770922-2312547         50
김정훈               790304-1788896         48
한석봉               811112-1566789         46
이기자               780505-2978541         49
장인철               780506-1625148         49
김영년               821011-2362514         45
나윤균               810810-1552147         46
김종서               751010-1122233         52
유관순               801010-2987897         47
정한국               760909-1333333         51
조미숙               790102-2777777         48
황진이               810707-2574812         46
이현숙               800606-2954687         47
이상헌               781010-1666678         49
엄용수               820507-1452365         45
이성길               801028-1849534         47
박문수               780710-1985632         49
유영희               800304-2741258         47
홍길남               801010-1111111         47
이영숙               800501-2312456         47
김인수               731211-1214576         54
김말자               830225-2633334         44
우재옥               801103-1654442         47
김숙남               810907-2015457         46
김영길               801216-1898752         47
이남신               810101-1010101         46
김말숙               800301-2020202         47
정정해               790210-2101010         48
지재환               771115-1687988         50
심심해               810206-2222222         46
김미나               780505-2999999         49
이정석               820505-1325468         45
정영희               831010-2153252         44
이재영               701126-2852147         57
최석규               770129-1456987         50
손인수               791009-2321456         48
고순정               800504-2000032         47
박세열               790509-1635214         48
문길수               721217-1951357         55
채정희               810709-2000054         46
양미옥               830504-2471523         44
지수환               820305-1475286         45
홍원신               690906-1985214         58
허경운               760105-1458752         51
산마루               780505-1234567         49
이기상               790604-1415141         48
이미성               830908-2456548         44
이미인               810403-2828287         46
권영미               790303-2155554         48
권옥경               820406-2000456         45
김싱식               800715-1313131         47
정상호               810705-1212141         46
정한나               820506-2425153         45
전용재               800605-1456987         47
이미경               780406-2003214         49
김신제               800709-1321456         47
임수봉               810809-2121244         46
김신애               810809-2111111         46

*/

--○ 생성한 함수가 제대로 작동하는지의 여부 확인
--   『20260114_03_scott(plsql)』에서 생성한 『FN_AGE()』 함수
SELECT '771212-1022432' "주민번호"
        , FN_AGE('771212-1022432') "함수호출결과"
FROM DUAL;
--==>> 771212-1022432	48

SELECT NAME, SSN, FN_AGE(SSN) "현재나이"
FROM TBL_INSA;
--==>>
/*
NAME                 SSN                  현재나이
-------------------- -------------- ----------
홍길동               771212-1022432         48
이순신               801007-1544236         45
이순애               770922-2312547         48
김정훈               790304-1788896         46
한석봉               811112-1566789         44
이기자               780505-2978541         47
장인철               780506-1625148         47
김영년               821011-2362514         43
나윤균               810810-1552147         44
김종서               751010-1122233         50
유관순               801010-2987897         45
정한국               760909-1333333         49
조미숙               790102-2777777         47
황진이               810707-2574812         44
이현숙               800606-2954687         45
이상헌               781010-1666678         47
엄용수               820507-1452365         43
이성길               801028-1849534         45
박문수               780710-1985632         47
유영희               800304-2741258         45
홍길남               801010-1111111         45
이영숙               800501-2312456         45
김인수               731211-1214576         52
김말자               830225-2633334         42
우재옥               801103-1654442         45
김숙남               810907-2015457         44
김영길               801216-1898752         45
이남신               810101-1010101         45
김말숙               800301-2020202         45
정정해               790210-2101010         46
지재환               771115-1687988         48
심심해               810206-2222222         44
김미나               780505-2999999         47
이정석               820505-1325468         43
정영희               831010-2153252         42
이재영               701126-2852147         55
최석규               770129-1456987         48
손인수               791009-2321456         46
고순정               800504-2000032         45
박세열               790509-1635214         46
문길수               721217-1951357         53
채정희               810709-2000054         44
양미옥               830504-2471523         42
지수환               820305-1475286         43
홍원신               690906-1985214         56
허경운               760105-1458752         50
산마루               780505-1234567         47
이기상               790604-1415141         46
이미성               830908-2456548         42
이미인               810403-2828287         44
권영미               790303-2155554         46
권옥경               820406-2000456         43
김싱식               800715-1313131         45
정상호               810705-1212141         44
정한나               820506-2425153         43
전용재               800605-1456987         45
이미경               780406-2003214         47
김신제               800709-1321456         45
임수봉               810809-2121244         44
김신애               810809-2111111         44
*/


--○ 생성한 함수가 제대로 작동하는지의 여부 확인
--   『20260114_03_scott(plsql)』에서 생성한 『FN_GRADE()』 함수
SELECT 63 "SCORE1", 97 "SCORE2"
     , FN_GRADE(63) "함수호출결과1"
     , FN_GRADE(97) "함수호출결과2"
FROM DUAL;
--==>>
/*
    SCORE1     SCORE2  함수호출결과1   함수호출결과2
---------- ----------   ----------        ----------
        63         97            1             4.5
*/


--------------------------------------------------------------------------------


--○ INSERT 프로시저 실습을 위한 테이블 생성
-- 테이블명: TBL_STUDENTS
CREATE TABLE TBL_STUDENTS
( ID    VARCHAR2(10)
, NAME  VARCHAR2(40)
, TEL   VARCHAR2(20)
, ADDR  VARCHAR2(100)
, CONSTRAINT STUDENTS_ID_PK PRIMARY KEY(ID)
);
--==>> Table TBL_STUDENTS이(가) 생성되었습니다.


--○ INSERT 프로시저 실습을 위한 테이블 생성
-- 테이블명: TBL_IDPW
CREATE TABLE TBL_IDPW
( ID    VARCHAR2(10)
, PW    VARCHAR2(20)
, CONSTRAINT IDPW_ID_PK PRIMARY KEY(ID)
);
--==>> Table TBL_IDPW이(가) 생성되었습니다.


-- 한 명의 학생 정보 등록 → 두 테이블에 데이터 입력 필요
INSERT INTO TBL_STUDENTS(ID, NAME, TEL, ADDR)
VALUES('superman', '윤주열','010-1111-1111','제주도 서귀포시');
INSERT INTO TBL_IDPW(ID,PW)
VALUES('superman','java004$');
--==>> 1 행 이(가) 삽입되었습니다. * 2

SELECT *
FROM TBL_STUDENTS;
--==>> superman	윤주열	010-1111-1111	제주도 서귀포시

SELECT *
FROM TBL_IDPW;
--==>> superman	java004$

DESC TBL_IDPW;
--==>>
/*
이름 널?       유형           
-- -------- ------------ 
ID NOT NULL VARCHAR2(10) 
PW          VARCHAR2(20) 
*/


--※ 위의 업무를 프로시저(INSERT 프로시저, 입력 프로시저)를 생성하여 처리하게 되면
-- 프로시저명: PRC_STUDENT_INSERT()
EXEC PRC_STUDENT_INSERT('batman','java004$','정세찬','010-2222-2222','서울 마포구');
-- 이와 같은 구문 한 줄로 양쪽 테이블에 데이터를 모두 제대로 입력할 수 있다.

--○ 생성한 프로시저가 제대로 작동하는지의 여부 확인
--   『20260114_03_scott(plsql)』에서 생성한 『PRC_STUDENT_INSERT()』 프로시저
EXEC PRC_STUDENT_INSERT('batman','java004$','정세찬','010-2222-2222','서울 마포구');
--==>> PL/SQL 프로시저가 성공적으로 완료되었습니다.


SELECT *
FROM TBL_STUDENTS;
--==>>
/*
ID         NAME           TEL                  ADDR                                                                                                
---------- ------------ -------------------- -------------------------
superman   윤주열        010-1111-1111        제주도 서귀포시                                                                                     
batman     정세찬        010-2222-2222        서울 마포구                                                                                         

*/

SELECT *
FROM TBL_IDPW;
--==>>
/*
ID         PW                  
---------- --------------------
superman   java004$            
batman     java004$  
*/

ROLLBACK;
--> 롤백 불가(이미 프로시저에서 커밋완료함)







































